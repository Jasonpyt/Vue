<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="utf-8">
    <script type="text/javascript" src="../js/vue.js"></script>
    <title>天气案例_监视属性</title>
</head>
<!--
    监视属性watch:
        1.当被监视的属性发生变化时，回调函数自动调用，进行相关操作.
        2.监视的属性必须存在，才能进行监视.
        3.监视的两种写法：
            (1).new Value时传入watch配置.
            (2).通过vm.$watch监视.
-->
<body>
<div id="root">
    <h1>天气{{weath}}</h1>
    <button @click="changeWeather">点击切换天气</button><br/>
</div>
</body>
<script>
    Vue.config.productionTip=false;//阻止vue在启动时生成生产提示

      let vm = new Vue({
           el:"#root",
           data:{
               isHot:true
           },
           computed:{
            //监视属性第一种形式
            weath(){
               return this.isHot ? "炎热":"凉爽";  
               }
               },
               methods: {
                changeWeather(){
                    this.isHot = !this.isHot;
                } 
            } , 
            
            watch:{
                isHot:{
                    immediate:false,
                    handler(newValue,oldValue){
                
                 console.log("ishot被调用了！！",newValue,oldValue);
                }  
                },
                weath:{
                    immediate:true,
                    handler(newValue,oldValue){
                        console.log("weath函数被调用了！！")
                 console.log(newValue,oldValue);
                }  
                }
            }
       })

       //监视属性第二种形式
      /* vm.$watch('isHot',{
        immediate:true,//初始时让handler调用一下
             handler(newValue,oldValue){
                 console.log(newValue,oldValue);
                }
       })
*/
</script>
</html>