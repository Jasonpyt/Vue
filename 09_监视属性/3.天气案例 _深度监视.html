<!DOCTYPE html>
<html lang="en">
 
<head>
    <meta charset="utf-8">
    <script type="text/javascript" src="../js/vue.js"></script>
    <title>天气案例_深度监视</title>
</head>

<body>
<div id="root">
    <h1>天气{{weath}}</h1>
    <button @click="changeWeather">点击切换天气</button><br/>
    <h1>{{number.a}}</h1>
    <button @click="number.a++">点击a++</button>
</div>
</body>
<script>
    Vue.config.productionTip=false;//阻止vue在启动时生成生产提示

      let vm = new Vue({
           el:"#root",
           data:{
               isHot:true,
               number:{
               a:1,
               b:1
               }
           },
           computed:{
            //监视属性第一种形式
            weath(){
               return this.isHot ? "炎热":"凉爽";  
               }
               },
               methods: {
                changeWeather(){
                    this.isHot = !this.isHot;
                } 
            } , 
            
            watch:{
                'number.a':{
                    immediate:false,
                    handler(newValue,oldValue){
                
                 console.log("a++被调用了！！",newValue,oldValue);
                }  
                },
                weath:{
                    immediate:true,
                    handler(newValue,oldValue){
                        console.log("weath函数被调用了！！")
                 console.log(newValue,oldValue);
                }  
                }
            }
       })

       //监视属性第二种形式
      /* vm.$watch('isHot',{
        immediate:true,//初始时让handler调用一下
             handler(newValue,oldValue){
                 console.log(newValue,oldValue);
                }
       })
*/
</script>
</html>